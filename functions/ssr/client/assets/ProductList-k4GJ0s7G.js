import{l as x,r as v,o as C,m as E,c as r,p as I,f,q as O,h as i,v as F,e as t,F as c,s as g,M as V,u as $,x as M,y as A,b as o,w as b,d as k,_ as T}from"./index-ltoyH2x5.js";import{u as D}from"./usePageMeta-CdZLCV4E.js";import{u as L,s as U,g as W,_ as j,P as q}from"./useSsrState-BTPbnvrO.js";import{C as z}from"./ContactSection-BDu5DZxO.js";const G={class:"products"},H={class:"products__header"},J={class:"container"},K={class:"products__list"},Q={class:"container"},X={id:"metalurgia",class:"products__list__item"},Y={class:"product-cards"},Z={key:0,class:"product-cards__item"},tt={class:"product-cards__item__media"},et={id:"construcao-civil",class:"products__list__item"},at={class:"product-cards"},st={key:0,class:"product-cards__item"},it={class:"product-cards__item__media"},lt={id:"ferramentas-ouro",class:"products__list__item"},ot={class:"product-cards"},nt={key:0,class:"product-cards__item"},rt={class:"product-cards__item__media"},ct={name:"ProductsView"},mt=Object.assign(ct,{setup(dt){const n=v([]),u=v(!0),m=v(null);let _=null;const w=M();D({title:"Produtos | INDFER - Ferramentas diamantadas",description:"Nossos produtos: soluções diamantadas para metalurgia e ferramentas ouro."});const S=$(),P=S?S.proxy:null,{client:l}=L();function R(){setTimeout(()=>{m.value&&(_=V.Tabs.init(m.value),N())},10)}function N(){const a=w.currentRoute.value.fullPath.split("/"),s=a[a.length-1].replace("#","");_&&s&&_.select(s)}async function B(){try{if(l&&typeof l.getByType=="function"){const a=await l.getByType("produto");n.value=a.results||[]}else if(l&&typeof l.getAllByType=="function")n.value=await l.getAllByType("produto");else if(P?.$prismic?.client){const a=await P.$prismic.client.getByType("produto");n.value=a.results||[]}}catch{}finally{u.value=!1,R()}}function y(a,s){return`/produtos/${a}/${s}`}return x(async()=>{try{if(!l)return;if(typeof l.getByType=="function"){const a=await l.getByType("produto");n.value=a.results||[]}else typeof l.getAllByType=="function"&&(n.value=await l.getAllByType("produto"));U("products",n.value||[])}catch{}finally{u.value=!1}}),C(()=>{const a=W("products");if(a&&a.length){n.value=a,u.value=!1,R();return}B()}),E(()=>w.currentRoute.value.fullPath,()=>{if(_){try{_.updateTabIndicator()}catch{}N()}}),(a,s)=>{const h=A("PrismicImage"),d=A("PrismicText");return o(),r(c,null,[u.value?(o(),I(q,{key:0})):f("",!0),O(t("section",G,[t("div",H,[t("div",J,[s[1]||(s[1]=t("div",{class:"center-statement"},[t("h2",{class:"center-statement__title text-white"},"NOSSOS PRODUTOS")],-1)),s[2]||(s[2]=t("div",{class:"center-statement"},[t("p",{class:"center-statement__text text-white"}," Soluções diamantadas para metalurgia e usinagem de alianças — desempenho, precisão e vida útil estendida. ")],-1)),t("ul",{ref_key:"tabsRef",ref:m,class:"products__header__tabs tabs"},[...s[0]||(s[0]=[t("li",{class:"tab"},[t("a",{href:"#metalurgia"},"METALURGIA")],-1),t("li",{class:"tab"},[t("a",{href:"#ferramentas-ouro"},"FERRAMENTAS OURO")],-1)])],512)])]),t("div",K,[t("div",Q,[i(j,{backLink:"home"}),t("div",X,[t("ul",Y,[(o(!0),r(c,null,g(n.value,(e,p)=>(o(),r(c,{key:p},[e.data.category==="metalurgia"?(o(),r("li",Z,[t("div",tt,[i(h,{field:e.data.thumbnail},null,8,["field"])]),i(d,{field:e.data.title,wrapper:"h3",fallback:"No content"},null,8,["field"]),i(d,{field:e.data.subtitle,wrapper:"p",fallback:"No content"},null,8,["field"]),i(T,{link:{path:y(e.data.category,e.uid)},fullWidth:!0},{default:b(()=>[...s[3]||(s[3]=[k("VER DETALHES",-1)])]),_:1},8,["link"])])):f("",!0)],64))),128))])]),t("div",et,[t("ul",at,[(o(!0),r(c,null,g(n.value,(e,p)=>(o(),r(c,{key:p},[e.data.category==="construcao-civil"?(o(),r("li",st,[t("div",it,[i(h,{field:e.data.thumbnail},null,8,["field"])]),i(d,{field:e.data.title,wrapper:"h3",fallback:"No content"},null,8,["field"]),i(d,{field:e.data.subtitle,wrapper:"p",fallback:"No content"},null,8,["field"]),i(T,{link:{path:y(e.data.category,e.uid)},fullWidth:!0},{default:b(()=>[...s[4]||(s[4]=[k("ACESSAR",-1)])]),_:1},8,["link"])])):f("",!0)],64))),128))])]),t("div",lt,[t("ul",ot,[(o(!0),r(c,null,g(n.value,(e,p)=>(o(),r(c,{key:p},[e.data.category==="ferramentas-ouro"?(o(),r("li",nt,[t("div",rt,[i(h,{field:e.data.thumbnail},null,8,["field"])]),i(d,{field:e.data.title,wrapper:"h3",fallback:"No content"},null,8,["field"]),i(d,{field:e.data.subtitle,wrapper:"p",fallback:"No content"},null,8,["field"]),i(T,{link:{path:y(e.data.category,e.uid)},fullWidth:!0},{default:b(()=>[...s[5]||(s[5]=[k("ACESSAR",-1)])]),_:1},8,["link"])])):f("",!0)],64))),128))])])])])],512),[[F,!u.value]]),i(z)],64)}}});export{mt as default};
